{"ast":null,"code":"var _jsxFileName = \"/Users/grantwatson/Desktop/DevPlayground/ReactApps/gws/GWS_Portfolio_React/src/components/pages/Account/Register.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { auth } from '../../../firebase/firebase';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { createUserWithEmailAndPassword, sendEmailVerification } from 'firebase/auth';\nimport { useAuthValue } from '../../../firebase/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const {\n    setTimeActive\n  } = useAuthValue();\n\n  const validatePassword = () => {\n    let isValid = true;\n\n    if (password !== '' && confirmPassword !== '') {\n      if (password !== confirmPassword) {\n        isValid = false;\n        setError('Passwords does not match');\n      }\n    }\n\n    return isValid;\n  };\n\n  const register = e => {\n    e.preventDefault();\n    setError('');\n\n    if (validatePassword()) {\n      // Create a new user with email and password using firebase\n      createUserWithEmailAndPassword(auth, email, password).then(() => {\n        sendEmailVerification(auth.currentUser).then(() => {\n          setTimeActive(true);\n          navigate('/verify-email');\n        }).catch(err => alert(err.message));\n      }).catch(err => setError(err.message));\n    }\n\n    setEmail('');\n    setPassword('');\n    setConfirmPassword('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth__error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: register,\n        name: \"registration_form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          placeholder: \"Enter your email\",\n          required: true,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          required: true,\n          placeholder: \"Enter your password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: confirmPassword,\n          required: true,\n          placeholder: \"Confirm password\",\n          onChange: e => setConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-info\",\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Already have an account?\", /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-outline-success\",\n          to: \"/login\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"BQFYRYJ1L3mcxpVkQbk7n18eXOA=\", false, function () {\n  return [useNavigate, useAuthValue];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","auth","useNavigate","Link","createUserWithEmailAndPassword","sendEmailVerification","useAuthValue","Register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","error","setError","navigate","setTimeActive","validatePassword","isValid","register","e","preventDefault","then","currentUser","catch","err","alert","message","target","value"],"sources":["/Users/grantwatson/Desktop/DevPlayground/ReactApps/gws/GWS_Portfolio_React/src/components/pages/Account/Register.js"],"sourcesContent":["import { useState } from 'react'\nimport { auth } from '../../../firebase/firebase'\nimport { useNavigate, Link } from 'react-router-dom'\nimport { createUserWithEmailAndPassword, sendEmailVerification } from 'firebase/auth'\nimport { useAuthValue } from '../../../firebase/AuthContext'\n\nfunction Register() {\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [confirmPassword, setConfirmPassword] = useState('')\n    const [error, setError] = useState('')\n    const navigate = useNavigate()\n    const { setTimeActive } = useAuthValue()\n\n    const validatePassword = () => {\n        let isValid = true\n        if (password !== '' && confirmPassword !== '') {\n            if (password !== confirmPassword) {\n                isValid = false\n                setError('Passwords does not match')\n            }\n        }\n        return isValid\n    }\n\n    const register = e => {\n        e.preventDefault()\n        setError('')\n        if (validatePassword()) {\n            // Create a new user with email and password using firebase\n            createUserWithEmailAndPassword(auth, email, password)\n                .then(() => {\n                    sendEmailVerification(auth.currentUser)\n                        .then(() => {\n                            setTimeActive(true)\n                            navigate('/verify-email')\n                        }).catch((err) => alert(err.message))\n                })\n                .catch(err => setError(err.message))\n        }\n        setEmail('')\n        setPassword('')\n        setConfirmPassword('')\n    }\n\n    return (\n        <div className='center'>\n            <div className='auth'>\n                <h1>Register</h1>\n                {error && <div className='auth__error'>{error}</div>}\n                <form onSubmit={register} name='registration_form'>\n                    <input\n                        type='email'\n                        value={email}\n                        placeholder=\"Enter your email\"\n                        required\n                        onChange={e => setEmail(e.target.value)} />\n\n                    <input\n                        type='password'\n                        value={password}\n                        required\n                        placeholder='Enter your password'\n                        onChange={e => setPassword(e.target.value)} />\n\n                    <input\n                        type='password'\n                        value={confirmPassword}\n                        required\n                        placeholder='Confirm password'\n                        onChange={e => setConfirmPassword(e.target.value)} />\n\n                    <button className=\"btn btn-outline-info\" type='submit'>Register</button>\n                </form>\n                <span>\n                    Already have an account?\n                    <Link className='btn btn-outline-success' to='/login'>login</Link>\n                </span>\n            </div>\n        </div>\n    )\n}\n\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}